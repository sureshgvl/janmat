# Flutter Flavorizr Configuration
# Advanced flavor management for JanMat app

app:
  android:
    flavorDimensions: "flavor-type"

flavors:
  development:
    app:
      name: "JanMat Dev"
    description: "Development version for local testing"

    android:
      applicationId: "com.janmat.app.dev"
      icon: "assets/images/app-icon-dev.png"  # Add dev-specific icon
      generateSplashScreen: true

    ios:
      bundleId: "com.janmat.app.dev"
      icon: "assets/images/app-icon-dev.png"
      generateSplashScreen: true

    web:
      generateSplashScreen: false

  staging:
    app:
      name: "JanMat Staging"
    description: "Staging version for QA and testing"

    android:
      applicationId: "com.janmat.app.staging"
      icon: "assets/images/app-icon-staging.png"  # Add staging-specific icon
      generateSplashScreen: true

    ios:
      bundleId: "com.janmat.app.staging"
      icon: "assets/images/app-icon-staging.png"
      generateSplashScreen: true

    web:
      generateSplashScreen: false

  production:
    app:
      name: "JanMat"
    description: "Production version for end users"

    android:
      applicationId: "com.janmat.app"
      icon: "assets/images/app-icon.png"  # Official production icon
      generateSplashScreen: true

    ios:
      bundleId: "com.janmat.app"
      icon: "assets/images/app-icon.png"
      generateSplashScreen: true

    web:
      generateSplashScreen: false

instructions:
  - android:buildGradle:
      flavor:development:
        - "signingConfig.signingConfig = signingConfigs.debug"
      flavor:staging:
        - "signingConfig.signingConfig = signingConfigs.release"
      flavor:production:
        - "signingConfig.signingConfig = signingConfigs.release"
        - "buildConfigField 'boolean', 'ENABLE_CRASHLYTICS', 'true'"

  - android:androidManifest:
      flavor:production:
        - <meta-data android:name="firebase_crashlytics_collection_enabled" android:value="true" />

  - ios:infoPlist:
      flavor:production:
        - Fabric > APIKey: "[Production Fabric API Key Here]"
        - FirebaseCrashlyticsCollectionEnabled: true

# Generate String class for all string resources
assets:
  - images

# Generate separate entry points for each flavor
entryPoints:
  - lib/main_development.dart
  - lib/main_staging.dart
  - lib/main_production.dart
